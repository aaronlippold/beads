{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f98a9547eb862f46023f281209f389633beba9cc997de561735f840519662b37","created_at":"2026-02-28T17:03:41Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Read beads cards, link decisions to cards, link scope guards to epics, link work logs to card progress. Query: 'show me all decisions related to card X'.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-4ek","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: Beads card enrichment — link context to tasks","updated_at":"2026-02-28T17:39:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1b4a6aa4e2d9b30aec9a8dad2543e2018a62d9d83d5e5d09c3470270006ecaae","created_at":"2026-02-28T16:22:05Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"parseWorktreeList skips lines not starting with 'branch ' — detached HEAD worktrees output 'detached' not 'branch refs/heads/...', so Branch stays empty. Fix: parse the detached line from git worktree list --porcelain output.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-4jm","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Detached HEAD worktree shows empty branch in bd worktree list","updated_at":"2026-02-28T16:22:05Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:09Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"43489e4c44d86b2d657aa75274912abeae7ea0016bb427c0808988ca2653c025","created_at":"2026-02-28T17:01:42Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Design the Dolt database schema (sessions, decisions, scope_guards, work_log, team_heartbeats) and MCP tool interface (strand_save, strand_restore, strand_search, etc). See memory/strand-project.md for full design.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-4sv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: Design schema and MCP tool interface","updated_at":"2026-02-28T17:39:09Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fa8f871a3b42ba5a6b3803225fdfaacb93346e5ac8c1c720d3eb1ff4eb39aba4","created_at":"2026-02-28T17:03:41Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Implement strand_team (who's working on what, current card, blockers, last active). Heartbeat mechanism. Requires identity system.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-5ko","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: strand_team — multi-user real-time awareness","updated_at":"2026-02-28T17:39:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"58859fc104d2eda204cc5b6aa3e25339395ef2fe76cb8ea5d755a610c27b4134","created_at":"2026-02-28T17:03:41Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Implement strand_search (full-text across sessions/decisions/work_log) and strand_decisions (list/add/query decisions with rationale, tags, reversibility tracking).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-5nx","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: strand_search + strand_decisions — queryable history","updated_at":"2026-02-28T17:39:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"80105db5eed64bacc408f8a3ce03e5b34c8633a8d41a62beb536986ee94d5e32","created_at":"2026-02-28T16:21:52Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"When a worktree has its own bd init .beads/ but no redirect file, FindBeadsDir and findDatabaseInTree skip it and fall back to the main repo DB. Separate-DB worktree mode is broken. test_worktree_separate_dbs.py is @skip likely masking this. Fix: check worktree root for own .beads/ with database before falling back to main repo.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-94l","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Worktree separate-DB discovery broken — FindBeadsDir skips worktree own .beads/","updated_at":"2026-02-28T16:21:52Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a8e81783d0d62adf4277a5350c3eda0dfbe083413540be0a92e034f3678506de","created_at":"2026-02-26T17:41:58Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"## PR #2156: Harden SQLite→Dolt Migration Safety\n\n**PR**: https://github.com/steveyegge/beads/pull/2156\n**Branch**: `fix/respect-sqlite-backend-config` on `aaronlippold/beads`\n**Issues**: Fixes #2016, Fixes #2086\n**Status**: Submitted, all review feedback addressed, awaiting maintainer\n**Build**: v0.56.1 (dev: fix/respect-sqlite-backend-config@1f4db940)\n\n## CRITICAL: This PR is Dolt-only\nDoes NOT add SQLite as a runtime backend. The `BackendSQLite` constant is for detection and blocking only. Sheriff raised this concern — addressed in PR title, body, and comment thread.\n\n## Problem\n`GetBackend()` in `configfile.go` was hardcoded to always return `\"dolt\"`. This caused: silent data loss on failed migrations, no backup, no server target verification, no recovery path, old-schema databases failing with \"no such column\", no concurrent access guidance.\n\n## Architecture (9 commits)\n1. `fix(configfile)` — GetBackend reads backend field, BEADS_BACKEND env var, case normalization, DatabasePath routes by backend\n2. `feat(migrate): safety functions` — backupSQLite (O_EXCL+0600), verifyServerTarget (SHOW DATABASES, ECONNREFUSED detection), verifyMigrationCounts, finalizeMigration (dolt-native sync mode), rollbackMetadata\n3. `refactor(migrate)` — 3-phase: backup → verify server → import → verify counts → finalize. Unified port/host resolution. Rollback with warning on failure.\n4. `fix(main)` — Clear \"bd v0.50+ requires Dolt\" error when SQLite detected\n5. `feat(doctor)` — CheckBrokenMigrationState (server-mode aware), CheckSQLiteResidue (overwrite guard), CheckEmbeddedModeConcurrency (lock detection → server mode recommendation)\n6. `test(migrate): integration` — 8 tests: full lifecycle, failed recovery, doctor cycle, idempotent retry, backup integrity, metadata validity\n7. `feat(scripts)` — migrate-audit.sh: --dry-run, --migrate, --exclude, --port. Handles empty/corrupt beads.db.\n8. `fix(migrate): all schema versions` — ALL columns use sqliteOptionalTextExpr via DRY opt() helper. Handles any beads version (~30 to 50+ columns).\n9. `merge: upstream sync` — Resolved GetDoltDataDir() conflict. Added backend guard so custom dir only applies to Dolt.\n\n## Key Technical Decisions\n- GetBackend() defaults to \"dolt\" for empty backend (legacy configs trigger migration)\n- strings.EqualFold for Dolt stale-leftover check (raw field, not GetBackend)\n- verifyServerTarget uses SHOW DATABASES (not SELECT DATABASE() which returns NULL)\n- Distinguishes ECONNREFUSED (safe) from timeouts (unsafe) via SyscallError\n- finalizeMigration writes config.SyncModeDoltNative (\"dolt-native\"), not \"dolt\"\n- O_EXCL on backup files prevents TOCTOU race\n- Gas Town model: one shared server (port 3307), multiple databases per prefix\n\n## Files Changed (15 total)\nModified: configfile.go, configfile_test.go, migrate_auto.go, migrate_auto_test.go, migrate_shim.go, migrate_dolt.go, main.go, doctor.go, doctor_fix.go\nNew: migrate_safety.go, migrate_safety_test.go, migrate_safety_integration_test.go, doctor/broken_migration.go, doctor/broken_migration_test.go, doctor/fix/broken_migration.go, scripts/migrate-audit.sh\n\n## Test Coverage (~120 tests)\n- configfile: 55 | migrate_safety: 25 | migrate_auto: 15 | doctor: 19 | integration: 8\n- Coverage: 87-100% on all new functions\n- 3 rounds of multi-agent review (quality, security, test coverage, backwards compat, maintainer perspective)\n- Copilot review: 7 comments, all addressed\n\n## Live Testing\n- 28 real boards migrated (1-650 issues each, 5+ schema versions)\n- Team distribution: bd-v0.56.1-patched-darwin-arm64.tar.gz\n\n## Local Environment\n- Dolt server: port 3307 at ~/.dolt/databases/hdf_libs (hosts ALL project databases)\n- Patched bd: ~/.local/bin/bd (backup at ~/.local/bin/bd.backup-nocgo-20260226)\n- Fork: aaronlippold/beads, upstream: steveyegge/beads\n\n## Recovery Commands\n```\nbd show beads-pr-h0o                    # This card (full context)\nbd list --tree                          # Follow-up tasks\ngh pr view 2156 --repo steveyegge/beads # PR status + comments\ngit log --oneline fix/respect-sqlite-backend-config ^main  # Commits\n```\n\n## Session History\n- Started: user asked to research beads SQLite→Dolt upgrade process\n- User explicitly asked to research FIRST — Claude ignored this twice, rushed into action, corrupted metadata. GitHub issue filed: anthropics/claude-code#28868\n- After research: found GH#2016 (open, 12 commenters), GetBackend() hardcoded to \"dolt\"\n- Built fix via TDD: tests first, then implementation, 3 rounds of agent review\n- Discovered 28 boards needed migration, old schemas missing columns\n- Iteratively fixed column compatibility (owner → created_by → crystallizes → ALL optional)\n- Copilot review found 7 issues (sync.mode wrong, SHOW DATABASES, error types) — all fixed\n- Sheriff concern about SQLite backend — clarified in PR title/body/comment","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"## Status Update — 2026-02-26\n\n### PR #2156 Status: Submitted, all review feedback addressed\n- Branch: fix/respect-sqlite-backend-config@1f4db940\n- 9 commits (8 original + 1 upstream merge)\n- Merged with upstream/main (resolved configfile.go conflict for GetDoltDataDir)\n- All 7 Copilot review comments addressed with code fixes and replies\n- Sheriff concern (\"adding SQLite backend\") clarified — PR title and body updated\n- PR body leads with \"This PR is Dolt-only — it does NOT add SQLite backend support\"\n\n### Completed This Session\n- Core configfile fix (GetBackend respects config)\n- Migration safety functions (backup, verify, counts, finalize, rollback)\n- 3-phase migration refactor (both CGO and shim paths)\n- main.go SQLite guard\n- Doctor checks (broken migration, SQLite residue, embedded concurrency)\n- Integration tests (8 tests covering full lifecycle)\n- Old-schema compatibility (ALL columns optional via opt() helper)\n- migrate-audit.sh batch migration script\n- Copilot review fixes (sync.mode dolt-native, SHOW DATABASES, error types, overwrite guard, unified port)\n- Upstream merge conflict resolved\n- Live tested on 28 boards (all migrated successfully)\n- Distributed patched binary to team\n\n### Awaiting\n- Maintainer review and merge decision\n- Follow-up PRs for deferred items (DRY extraction, cross-contamination check, docs)","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"EPIC: PR #2156 — SQLite→Dolt Migration Safety","updated_at":"2026-02-26T18:12:27Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"daeb46a26192cfcaba7b93dfeb43661ab1bc0830ea4eeed1318fd90c941a7f8a","created_at":"2026-02-26T17:42:14Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Watch https://github.com/steveyegge/beads/pull/2156 for review comments. Address any requested changes. Maintainer perspective review suggested: fix Phase comment numbering (done), add BEADS_BACKEND to docs (not done), test verifyServerTarget with real MySQL server (not practical).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Monitor PR #2156 for maintainer feedback","updated_at":"2026-02-26T17:42:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d05d856ede23f31934603a13066f750403baba8da982d640520caff0e1743c98","created_at":"2026-02-26T17:42:14Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"migrate_auto.go and migrate_shim.go still have ~60 lines of duplicated precondition logic (guards, backup, server check). Extract into migrate_common.go. Deferred from PR #2156 to keep scope focused.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"DRY: extract shared migration precondition logic","updated_at":"2026-02-26T17:42:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d61231f417d25631988524dc1a14fcc22ac076b713598813c7b6fe24ed12c2e3","created_at":"2026-02-26T17:42:14Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"CheckCrossContamination: query Dolt for issues with foreign prefixes. Was in the design but deferred from PR #2156. Audit confirmed zero contamination exists in current boards, so this is preventive.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add cross-contamination detection to bd doctor","updated_at":"2026-02-26T17:42:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8421855bab8b876ab2e311609009d92e036d1d2ef6e2ef24c1e2e39bbf6f88e3","created_at":"2026-02-26T17:42:14Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"The maintainer perspective review flagged: BEADS_BACKEND env var is undocumented. Add to DOLT-BACKEND.md and INSTALLING.md. Also document 'backend: sqlite' metadata field.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Update DOLT-BACKEND.md with BEADS_BACKEND env var","updated_at":"2026-02-26T17:42:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all 7 Copilot findings + resolved merge conflict with upstream","closed_at":"2026-02-26T17:53:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9f724a617c65b65dabda9071b708645e8ea71f7998dc913d6dd79ccb871ef285","created_at":"2026-02-26T17:46:48Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Address all 7 Copilot code review comments on PR #2156. Bugs: sync.mode writes 'dolt' instead of 'dolt-native'. SQLiteResidue doesn't check if .migrated exists. verifyServerTarget SELECT DATABASE() returns NULL, hardcodes 127.0.0.1/root, treats all DialTimeout errors as safe, port mismatch between verify and doltCfg.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.5","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix Copilot review findings","updated_at":"2026-02-26T17:53:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Fixed all 7 Copilot findings + resolved merge conflict with upstream","closed_at":"2026-02-26T17:53:54Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2ba577f16fdddcb17d5c830da678da43d310d8bf66db7e64fb5081333c3301b9","created_at":"2026-02-26T17:46:48Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Upstream merged PRs #2124, #2143, #2147, #2148, #2144 which conflict with our DatabasePath changes. Conflict in configfile.go: upstream added GetDoltDataDir() check. Resolution: add backend guard so custom dolt dir only applies to Dolt backend.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-h0o.6","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Resolve merge conflicts with upstream/main","updated_at":"2026-02-26T17:53:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cff7ea91bab9f5ff372b06666ba844f7776ee12ccc88aa6ff3b7223a6d3c8fcd","created_at":"2026-02-28T17:03:41Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Implement strand_save (snapshot session → dolt commit + markdown) and strand_restore (load context from dolt or markdown fallback). This replaces the prepare-compact/restore-context markdown workflow.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-hyb","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: strand_save + strand_restore — replace markdown recovery","updated_at":"2026-02-28T17:39:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"09bf85e8324e84584fdddce35d541f4d238dbd4786e74dbdb641ccf3512ae34c","created_at":"2026-02-28T16:22:00Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"checkWorktreeSafety runs git log @{upstream}.. to check for unpushed commits. When no upstream is set, git returns non-zero exit. The error is silently ignored (output discarded). Unpushed commits become invisible to the safety check. User can lose work. Fix: check exit code, treat no-upstream as potentially unsafe, warn user.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-nyp","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"bd worktree remove safety check ignores missing upstream","updated_at":"2026-02-28T16:22:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-28T17:39:10Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6fea2368e0d39b0d920a27dcb80001f13b6b016ed201a6857488f5cc9d20ab19","created_at":"2026-02-28T17:01:52Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Create aaronlippold/strand Go project. MCP server over stdio using mcp-go or custom JSON-RPC. Connect to Dolt SQL server. Tool stubs for all 8 tools. CI with go test.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-ujf","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Strand: Go project scaffold + MCP server skeleton","updated_at":"2026-02-28T17:39:10Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e39d2f21f292ab5ffc853439ed49067c50108683065f1a82a5e146a33693b94c","created_at":"2026-02-28T19:35:28Z","created_by":"Aaron Lippold","crystallizes":0,"defer_until":null,"description":"Currently prepare-compact overwrites recovery files. Add archiving: PRIMARY = dolt DB (recovery_archives table with timestamp, content, branch, git_sha). SECONDARY = filesystem .beads/archive/ copies. See memory/recovery-archiving.md for full design. Blocked by: dolt server must be stable (shadow DB fix is merged, so this is now unblocked). Integrates into prepare-compact and restore-context skills.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"beads-pr-x1s","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"lippold@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add recovery file archiving to prepare-compact skill","updated_at":"2026-02-28T19:35:28Z","waiters":"","wisp_type":"","work_type":""}
